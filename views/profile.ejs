<%- include('partials/header') %>

      <%- include('partials/profileHead')%>
        
            <div class="user-posts-container">
              <%- include('partials/messages/success-failure')%>
              <br>

              <% if(user.posts.length === 0){  %>
                  <h1 style="font-size: 300%; text-align: center; margin-top: 10%; color: rgb(79, 79, 79);">No posts!!!<br><a href="/dashboard/create" class="btn btn-success btn-sm me-md-2" type="button">Create a post</a>
                  </h1>
              <% }else{  %>
                <% user.posts.slice().reverse().forEach(post=>{  %>
                    
                    <div class="card">
                      <h5 class="card-header small">The post by <a href="/users/<%=user._id%>"><%=user.username%></a> on <%=post.postedOn%> </h5>
                      <div class="card-body">
                        <h5 class="card-title custom-post-title-font"><%=post.title.substr(0, 30)+" --- "%></h5>
                        <p class="card-text custom-post-content-font"><%=post.body.substr(0, 200)+"......" %></p>
                        <a href="/posts/<%=post._id%>" class="btn btn-sm btn-success custom-read-more-btn">read full post</a>
                      </div>
                    </div>
                    <br>
                    
                  <% }) %>
                <% }  %>

            </div>
          
      <%- include('partials/profileFoot')%>

<%- include('partials/footer') %>